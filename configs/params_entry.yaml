# Configuration for DCIM_AI Dataset
# Stereo VO with Pre-computed Depth Maps

initial:
    location: [0, 0, 0]
    orientation: [[1, 0, 0], [0, 1, 0], [0, 0, 1]]
    inlierRatio: 0.5

    # Camera intrinsics will be loaded from K.txt automatically
    # These are fallback values from K.txt (rectified intrinsics)
    intrinsic_left: [[2250.516045, 0.0, 2063.557477],
                     [0.0, 2249.1067655, 1534.6178985],
                     [0.0, 0.0, 1.0]]
    intrinsic_right: [[2250.516045, 0.0, 2063.557477],
                      [0.0, 2249.1067655, 1534.6178985],
                      [0.0, 0.0, 1.0]]

    # Extrinsic: baseline ~0.2m (loaded from K.txt)
    extrinsic: [[1.0, 0.0, 0.0, -0.199689368401252],
                [0.0, 1.0, 0.0, 0.0],
                [0.0, 0.0, 1.0, 0.0],
                [0.0, 0.0, 0.0, 1.0]]

output:
    path: './saved_data/entry'

dataset:
    name: 'Project'
    path: 'C:\workspace\stereo_vo_reconstruction\entry'

geometry:
    # Depth map parameters
    depth_min: 0.3       # Minimum valid depth in meters
    depth_max: 50.0      # Maximum valid depth in meters

    detection:
        method: 'SIFT'   # 'SIFT' or 'ARUCO' - use SIFT for general scenes

    featureMatcher:
        method: 'FlannMatcher'
        configs:
            indexParams:
                algorithm: 0   # FLANN_INDEX_KDTREE = 0
                trees: 5
            searchParams:
                checks: 50
            K: 2
            maxRatio: 0.8

    epipolarGeometry:
        numTrials: 5
        inlierRatio: 0.5
        method: 8        # cv2.RANSAC = 8
        probability: 0.9999
        threshold: 1.0

    triangulation:
        minDistThresh: 0.3
        maxRadius: 50
        repErrThresh: 1.0

    pnpSolver:
        method: 'P3P'
        numTrials: 3
        deltaT: 2.0        # Max translation per frame (meters)
        minRatio: 0.3      # Min inlier ratio
        iterationsCount: 2000
        reprojectionError: 2.0
        confidence: 0.9999

    lsqsolver:
        enable: False      # Set True for more accurate but slower optimization

    bundleAdjustment:
        enable: False

debug:
    my_draw_matches: False  # Set True to visualize feature matches
    plotting:
        features: False
        featureMatches: False
    logging:
        inliersFilterRANSAC: False
